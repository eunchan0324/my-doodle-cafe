<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="~{fragments/header :: commonHead(${store.name} + ' 메뉴 목록')}"></head>
<body>

<header>
    <h1 th:text="${store.name}">[지점 이름]</h1>
    <p>환영합니다! 주문 가능한 메뉴를 확인하세요.</p>
</header>

<div>
    <div th:each="category : ${allCategories}">

        <div th:with="menusInCategory = ${groupedMenus.get(category)}">

            <h2 th:text="${category.displayName}">카테고리 이름</h2>
            <hr/>

            <div th:if="${menusInCategory != null and not #lists.isEmpty(menusInCategory)}">

                <div th:each="menu : ${menusInCategory}">
                    <div>
                        <span th:text="${menu.name}">메뉴 이름</span>

                        <span th:if="${menu.recommendType != null and menu.recommendType.name() != 'NONE'}">
                            [<span th:text="${menu.recommendType.displayName}">베스트 메뉴</span>]
                        </span>

                        <span th:text="${#numbers.formatInteger(menu.price, 0, 'COMMA')} + '원'">5,000원</span>
                    </div>

                    <div>
                        <span th:if="${menu.status.name() == 'SOLD_OUT'}" style="color: red;">
                            [품절]
                        </span>
                        <span th:if="${menu.status.name() == 'STOP'}" style="color: gray;">
                            [판매 중지]
                        </span>

                        <a th:href="@{/customer/menus/{menuId}(menuId=${menu.menuId})}">
                            상세 보기
                        </a>
                    </div>
                    <br/>
                </div>
            </div>

            <div th:unless="${menusInCategory != null and not #lists.isEmpty(menusInCategory)}">
                <p><strong>준비 중입니다. 잠시만 기다려 주세요!</strong></p>
            </div>
        </div>
    </div>
</div>

<div>
    <a href="/customer/dashboard">구매자 메뉴로 돌아가기</a>
</div>

</body>
</html>