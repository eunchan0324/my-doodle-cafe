<!doctype html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>매출 조회</title>
</head>
<body>
    <h1>매출 조회 - <span th:text="${storeName}"></span></h1>

    <hr>

    <!-- 매출 요약 -->
    <div>
        <h2>매출 요약</h2>
        <p>총 매출액: <strong th:text="${totalSales}">0</strong>원</p>
        <p>완료된 주문 수: <strong th:text="${totalOrders}">0</strong>건</p>
        <p>평균 주문 금액: <strong th:text="${totalOrders > 0 ? totalSales / totalOrders : 0}">0</strong>원</p>
    </div>

    <hr>

    <!-- 완료된 주문 내역 -->
    <div>
        <h2>완료된 주문 내역</h2>

        <!-- 주문이 없을 때 -->
        <div th:if="${orders == null or orders.isEmpty()}">
            <p>완료된 주문이 없습니다.</p>
        </div>

        <!-- 주문이 있을 때 -->
        <table th:if="${orders != null and !orders.isEmpty()}" border="1">
            <thead>
                <tr>
                    <th>대기번호</th>
                    <th>고객ID</th>
                    <th>메뉴</th>
                    <th>금액</th>
                    <th>주문시간</th>
                </tr>
            </thead>
            <tbody>
                <tr th:each="o : ${orders}">
                    <td th:text="${o.waitingNumber}">1</td>
                    <td th:text="${o.user.loginId}">customer1</td>
                    <td th:text="${o.getMenuSummary()}">아메리카노</td>
                    <td th:text="${o.totalPrice}">3000</td>
                    <td th:text="${#temporals.format(o.orderTime, 'MM-dd HH:mm')}">11-20 23:15</td>

                </tr>
            </tbody>
        </table>
    </div>

    <hr>

<a href="/seller/dashboard">판매자 메뉴로 돌아가기</a>

</body>
</html>